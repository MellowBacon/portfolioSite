<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photogrammetry – Portfolio</title>

    <!-- External assets -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="icon" type="image/png" href="favicon3.png" />

    <!-- PAGE‑SPECIFIC (FULL‑SCREEN CAROUSEL) -->
    <style>
        /* Full‑screen container inside .photo-wall */
        .carousel-container {
            position: relative;
            width: 100%; /* respects .photo-wall horizontal padding */
            height: 85vh; /* full viewport height */
            margin: 0;
            overflow: hidden;
        }

        .carousel-slide {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000; /* black backdrop */
        }

            .carousel-slide .slide {
                position: absolute;
                inset: 0;
                width: 100%;
                height: 100%;
                object-fit: contain;
                user-select: none;
                -webkit-user-drag: none;
                pointer-events: none;
                opacity: 0;
                transform: translateX(50%) scale(1.05);
                transition: transform 0.9s ease, opacity 0.9s ease;
                z-index: 0;
            }
        /* dots */
        .carousel-dots {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

            .carousel-dots .dot {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                background: rgba(255,255,255,0.5);
                cursor: pointer;
                transition: background 0.3s;
            }

                .carousel-dots .dot.active {
                    background: #fff;
                }

        @media (max-width:768px) {
            .carousel-dots .dot {
                width: 10px;
                height: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- FIXED NAV (original markup unchanged) -->
    <header>
        <nav>
            <div class="menu-icon" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <div class="dropdown">
                    <a href="#" class="dropbtn">Projects <i class="fa-solid fa-caret-down"></i></a>
                    <div class="dropdown-content">
                        <a href="photography.html">Photography</a>
                        <a href="photogrammetry.html">Photogrammetry</a>
                        <a href="3d-modeling.html">3D Modeling</a>
                        <a href="environment-art.html">Environment & Game Art</a>
                        <a href="video-art.html">Video Art</a>
                    </div>
                </div>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="social-icons">
                <a href="https://www.instagram.com/nbello.creates/" target="_blank"><img src="Instagram.png" alt="Instagram" class="custom-icon"></a>
                <a href="https://bsky.app/profile/noahbello.bsky.social" target="_blank"><img src="bluesky.png" alt="Bluesky" class="custom-icon"></a>
                <a href="https://nbello.itch.io/" target="_blank"><img src="itchio.png" alt="Itch.io" class="custom-icon"></a>
            </div>
        </nav>
        <div class="mobile-menu">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <div class="mobile-dropdown">
                <a href="#" class="mobile-dropbtn" onclick="toggleDropdown()">Projects <i class="fa fa-caret-down"></i></a>
                <div class="mobile-dropdown-content">
                    <a href="photography.html">Photography</a>
                    <a href="photogrammetry.html">Photogrammetry</a>
                    <a href="3d-modeling.html">3D Modeling</a>
                    <a href="environment-art.html">Environment & Game Art</a>
                    <a href="video-art.html">Video Art</a>
                </div>
            </div>
            <a href="contact.html">Contact</a>
        </div>
    </header>

    <!-- PAGE CONTENT -->
    <section class="photo-wall fade-in-section">
        <h2>Photogrammetry</h2>
        <div class="carousel-container">
            <div class="carousel-slide">
                <img id="slideA" class="slide" src="" alt="Slide" />
                <img id="slideB" class="slide" src="" alt="Slide" />
            </div>
            <div class="carousel-dots"></div>
        </div>
    </section>

    

    <!-- SCRIPTS -->
    <script>
        // ======== 1. IMAGE LIST ========
        const imageList = [
            "Splat jpg/Splat1.jpg", "Splat jpg/Splat2.jpg", "Splat jpg/Splat3.jpg", "Splat jpg/Splat4.jpg", "Splat jpg/Splat5.jpg", "Splat jpg/Splat6.jpg", "Splat jpg/Splat7.jpg", "Splat jpg/Splat8.jpg", "Splat jpg/Splat9.jpg", "Splat jpg/Splat10.jpg", "Splat jpg/Splat11.jpg", "Splat jpg/Splat12.jpg", "Splat jpg/Splat13.jpg", "Splat jpg/Splat14.jpg", "Splat jpg/Splat15.jpg", "Splat jpg/Splat16.jpg", "Splat jpg/Splat17.jpg", "Splat jpg/Splat18.jpg", "Splat jpg/Splat19.jpg", "Splat jpg/Splat20.jpg", "Splat jpg/Splat21.jpg", "Splat jpg/Splat22.jpg", "Splat jpg/Splat23.jpg", "Splat jpg/Splat24.jpg", "Splat jpg/Splat25.jpg"
        ];

        // ======== 2. CACHE DOM ========
        const slides = [document.getElementById("slideA"), document.getElementById("slideB")];
        let showing = 0;   // 0 | 1 – which slide element is currently visible
        let currentIndex = 0;   // which image in imageList is showing
        const dotsWrapper = document.querySelector(".carousel-dots");
        let autoplayTimer = null;

        // ======== 3. INDICATOR DOTS ========
        imageList.forEach((_, i) => {
            const dot = document.createElement("span");
            dot.className = "dot";
            dot.dataset.index = i;
            dot.onclick = () => {
                showSlide(i);
                resetAutoplay();
            };
            dotsWrapper.appendChild(dot);
        });
        function updateDots() {
            dotsWrapper.querySelectorAll(".dot").forEach(dot => {
                dot.classList.toggle("active", Number(dot.dataset.index) === currentIndex);
            });
        }

        // ======== 4. ANIMATION ENGINE ========
        function showSlide(newIdx) {
            if (newIdx === currentIndex) return; // no change

            const incoming = slides[1 - showing]; // hidden element
            const outgoing = slides[showing];     // currently visible element

            // Load new image into incoming
            incoming.src = imageList[newIdx];

            // Prepare incoming off‑screen right
            incoming.style.transition = "none";
            incoming.style.transform = "translateX(50%) scale(1.05)";
            incoming.style.opacity = 0;
            incoming.style.zIndex = 2;
            void incoming.offsetWidth; // force reflow to apply starting position

            // Start outgoing animation (to left & fade)
            outgoing.style.transition = "transform 0.9s ease, opacity 0.9s ease";
            outgoing.style.transform = "translateX(-50%) scale(0.95)";
            outgoing.style.opacity = 0;
            outgoing.style.zIndex = 1;

            // Start incoming animation (center & fade in)
            incoming.style.transition = "transform 0.9s ease, opacity 0.9s ease";
            incoming.style.transform = "translateX(0) scale(1)";
            incoming.style.opacity = 1;

            // After animation ends, reset outgoing for reuse
            setTimeout(() => {
                outgoing.style.transition = "none";
                outgoing.style.transform = "translateX(50%) scale(1.05)";
                outgoing.style.opacity = 0;
                outgoing.style.zIndex = 0;
            }, 900);

            // Swap trackers
            showing = 1 - showing;
            currentIndex = newIdx;
            updateDots();
        }

        function nextSlide() {
            showSlide((currentIndex + 1) % imageList.length);
        }

        // ======== 5. AUTOPLAY ========
        function startAutoplay() {
            autoplayTimer = setInterval(nextSlide, 5000);
        }
        function resetAutoplay() {
            clearInterval(autoplayTimer);
            startAutoplay();
        }

        // ======== 6. INIT ========
        document.addEventListener("DOMContentLoaded", () => {
            // Seed first image
            slides[showing].src = imageList[0];
            slides[showing].style.opacity = 1;
            slides[showing].style.transform = "translateX(0) scale(1)";
            slides[showing].style.zIndex = 1;
            updateDots();
            startAutoplay();
        });

        // ======== 7. MOBILE NAV HELPERS ========
        function toggleMenu() {
            document.querySelector(".mobile-menu").classList.toggle("show");
        }
        function toggleDropdown() {
            document.querySelector(".mobile-dropdown-content").classList.toggle("show");
        }
        window.addEventListener("resize", () => {
            if (window.innerWidth > 768) {
                document.querySelector(".mobile-menu").classList.remove("show");
                document.querySelector(".mobile-dropdown-content").classList.remove("show");
            }
        });
    </script>
</body>
</html>
